<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi√°ng Sinh & T·∫øt Vui V·∫ª</title>
    <style>
        /* --- CSS --- */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
        }

        /* Gi√°ng Sinh */
        body.christmas {
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
            color: #fff;
        }

        /* T·∫øt */
        body.tet {
            background: radial-gradient(circle at center, #ffcc66, #ff3300);
            color: #fff;
        }

        .container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            background: rgba(0,0,0,0.3);
        }

        h1 {
            margin: 0 0 15px 0;
        }

        button {
            margin-top: 15px;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #ff4d4d;
            color: #fff;
            transition: 0.3s;
        }

        button:hover {
            background-color: #ff1a1a;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }
    </style>
</head>
<body class="christmas">
    <div class="container">
        <h1 id="title">üéÑ Ch√∫c M·ª´ng Gi√°ng Sinh üéÑ</h1>
        <p id="message">Ch√∫c b·∫°n m·ªôt m√πa l·ªÖ an l√†nh v√† tr√†n ng·∫≠p ni·ªÅm vui!</p>
        <button onclick="changeWish()">Nh·∫•n ƒë·ªÉ nh·∫≠n l·ªùi ch√∫c!</button>
        <br><br>
        <button onclick="toggleTheme()">Chuy·ªÉn sang T·∫øt</button>
    </div>

    <canvas id="effect"></canvas>

    <script>
        // --- JS ---
        const christmasWishes = [
            "Ch√∫c b·∫°n Gi√°ng Sinh vui v·∫ª!",
            "Hy v·ªçng b·∫°n c√≥ m·ªôt m√πa l·ªÖ an l√†nh!",
            "Merry Christmas & Happy New Year!",
            "Ch√∫c m·ªçi ƒëi·ªÅu t·ªët l√†nh ƒë·∫øn v·ªõi b·∫°n!"
        ];

        const tetWishes = [
            "Ch√∫c m·ª´ng nƒÉm m·ªõi!",
            "An khang th·ªãnh v∆∞·ª£ng!",
            "V·∫°n s·ª± nh∆∞ √Ω!",
            "S·ª©c kh·ªèe d·ªìi d√†o, t√†i l·ªôc ƒë·∫ßy nh√†!"
        ];

        let currentTheme = 'christmas';
        const body = document.body;
        const title = document.getElementById('title');
        const message = document.getElementById('message');
        const canvas = document.getElementById('effect');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // --- Hi·ªáu ·ª©ng tuy·∫øt ---
        let snowflakes = [];
        for (let i=0; i<200; i++){
            snowflakes.push({
                x: Math.random()*canvas.width,
                y: Math.random()*canvas.height,
                r: Math.random()*4+1,
                speed: Math.random()*1+0.5
            });
        }

        // --- Hi·ªáu ·ª©ng ph√°o hoa ---
        let fireworks = [];

        function createFirework() {
            const x = Math.random()*canvas.width;
            const y = Math.random()*canvas.height/2;
            const particles = [];
            for(let i=0;i<30;i++){
                particles.push({
                    x: x,
                    y: y,
                    angle: Math.random()*2*Math.PI,
                    speed: Math.random()*3+1,
                    alpha: 1
                });
            }
            fireworks.push(particles);
        }

        function animate() {
            ctx.clearRect(0,0,canvas.width,canvas.height);

            if(currentTheme==='christmas'){
                ctx.fillStyle = "white";
                ctx.beginPath();
                for(let flake of snowflakes){
                    ctx.moveTo(flake.x, flake.y);
                    ctx.arc(flake.x, flake.y, flake.r, 0, Math.PI*2);
                    flake.y += flake.speed;
                    if(flake.y>canvas.height) flake.y=0;
                }
                ctx.fill();
            } else {
                if(Math.random()<0.02) createFirework();
                for(let f of fireworks){
                    for(let p of f){
                        ctx.beginPath();
                        ctx.globalAlpha = p.alpha;
                        ctx.fillStyle = `hsl(${Math.random()*360},100%,50%)`;
                        ctx.arc(p.x, p.y, 2, 0, Math.PI*2);
                        ctx.fill();
                        p.x += Math.cos(p.angle)*p.speed;
                        p.y += Math.sin(p.angle)*p.speed;
                        p.alpha -= 0.02;
                    }
                }
                fireworks = fireworks.filter(f => f.some(p => p.alpha>0));
                ctx.globalAlpha=1;
            }

            requestAnimationFrame(animate);
        }

        animate();

        // --- Thay ƒë·ªïi l·ªùi ch√∫c ---
        function changeWish(){
            const wishes = currentTheme==='christmas'? christmasWishes: tetWishes;
            const idx = Math.floor(Math.random()*wishes.length);
            message.textContent = wishes[idx];
        }

        // --- Chuy·ªÉn ch·ªß ƒë·ªÅ ---
        function toggleTheme(){
            if(currentTheme==='christmas'){
                currentTheme='tet';
                body.className='tet';
                title.textContent='üéâ Ch√∫c M·ª´ng NƒÉm M·ªõi üéâ';
                message.textContent='Ch√∫c b·∫°n m·ªôt nƒÉm m·ªõi tr√†n ƒë·∫ßy may m·∫Øn!';
            } else {
                currentTheme='christmas';
                body.className='christmas';
                title.textContent='üéÑ Ch√∫c M·ª´ng Gi√°ng Sinh üéÑ';
                message.textContent='Ch√∫c b·∫°n m·ªôt m√πa l·ªÖ an l√†nh v√† tr√†n ng·∫≠p ni·ªÅm vui!';
            }
        }

        window.addEventListener('resize', ()=>{
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>